<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>crosbygrim.com</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 1rem;
      height: 100vh;
      background-color: black;
      color: white;
      font-family: 'Courier New', Courier, monospace;
      overflow: hidden;
      position: relative;
    }

    #terminal {
      white-space: pre-wrap;
      font-size: 1rem;
      text-shadow: 0 0 3px white;
      z-index: 2;
    }

    #input-line {
      display: inline;
    }

    .cursor {
      display: inline;
      color: white;
      animation: blink 0.7s step-start infinite;
    }

    @keyframes blink {
      50% {
        opacity: 0;
      }
    }

    body::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        to bottom,
        rgba(255, 255, 255, 0.03) 1px,
        rgba(0, 0, 0, 0) 2px
      );
      pointer-events: none;
      z-index: 1;
    }
  </style>
</head>
<body>
  <div id="terminal">
    Welcome to crosbygrim.com  
    <br><br>
    <span id="input-line">> <span id="command"></span><span class="cursor">_</span></span>
  </div>

  <script>
    const terminal = document.getElementById('terminal');
    const commandEl = document.getElementById('command');
    let command = '';

    const commands = {
      help: "Available commands: help, about, clear, whoami",
      about: "This is a retro terminal interface for crosbygrim.com",
      clear: "__clear__",
      whoami: "guest"
    };

    function printOutput(text) {
      const inputLine = document.getElementById('input-line');
      const userInput = document.createElement("div");
      userInput.textContent = "> " + command;
      terminal.insertBefore(userInput, inputLine);

      if (text === "__clear__") {
        terminal.innerHTML = "<span id='input-line'>> <span id='command'></span><span class='cursor'>_</span></span>";
      } else {
        const response = document.createElement("div");
        response.textContent = text;
        terminal.insertBefore(response, inputLine);
      }

      command = '';
      commandEl.textContent = '';
      window.scrollTo(0, document.body.scrollHeight);
    }

    window.addEventListener('keydown', (e) => {
      const key = e.key;

      if (key === "Backspace") {
        command = command.slice(0, -1);
        commandEl.textContent = command;
      } else if (key === "Enter") {
        const output = commands[command.toLowerCase()] || `"${command}" is not recognized. Type "help" for a list of commands.`;
        printOutput(output);
      } else if (key.length === 1) {
        command += key;
        commandEl.textContent = command;
      }
    });
  </script>
</body>
</html>
